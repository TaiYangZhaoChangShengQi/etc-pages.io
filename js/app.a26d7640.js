(function(){"use strict";var e={5228:function(e,t,l){var a=l(6369),i=l(8499),o=l.n(i),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("Home"),t("div",{staticClass:"content"},[t("Navigation"),t("div",{staticClass:"NeiR"},[t("router-view")],1)],1)],1)},n=[],s=function(){var e=this;e._self._c;return e._m(0)},c=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"B-header"},[t("div",{staticClass:"h2"},[e._v("ETC大数据平台")]),t("div",{staticClass:"h3"},[e._v("ETC big data platform")])])}],d={name:"Home"},m=d,u=l(1001),f=(0,u.Z)(m,s,c,!1,null,"1fd5e59b",null),h=f.exports,b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"Nav"},[t("div",{staticClass:"nav-left"},[t("router-link",{attrs:{to:"/RegMana"}},[e._v("区域管理")])],1),t("div",{staticClass:"nav-left"},[t("router-link",{attrs:{to:"/SiteMana"}},[e._v("站点管理")])],1),t("div",{staticClass:"nav-left"},[t("router-link",{attrs:{to:"/DeviceMana"}},[e._v("设备管理")])],1),t("div",{staticClass:"nav-left"},[t("router-link",{attrs:{to:"/CarInfoRecord"}},[e._v("车辆信息记录")])],1)])},p=[],v={name:"Navigation",methods:{}},g=v,D=(0,u.Z)(g,b,p,!1,null,"0676e00a",null),S=D.exports,F={name:"App",components:{Home:h,Navigation:S}},C=F,R=(0,u.Z)(C,r,n,!1,null,null,null),k=R.exports,y=l(2631),V=function(){var e=this,t=e._self._c;return t("div",{staticClass:"Rebody"},[t("div",{staticClass:"Rebody-total"},[t("div",{staticClass:"Rebody-item-l"},[t("el-select",{attrs:{placeholder:"请选择当前区域"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.store.data,(function(e){return t("el-option",{key:e.num,attrs:{label:e.label,value:e.num}})})),1)],1),t("div",{staticClass:"Rebody-item"},[t("el-button",{attrs:{type:"primary",disabled:e.ss},on:{click:function(t){e.dialogAddRegVisible=!0}}},[e._v("添加区域")])],1),t("div",{staticClass:"Rebody-item"},[t("el-button",{attrs:{type:"success"},on:{click:e.clickRegManaList}},[e._v("列表视图")])],1),t("div",{staticClass:"Rebody-item"},[t("el-button",{attrs:{type:"success"},on:{click:e.clickMap}},[e._v("Map视图")])],1),t("div",{staticClass:"Rebody-item-R"},[e._v("当前页面："+e._s(e.pageName))])]),t("div",{staticClass:"routerStyle"},[t("router-view",{ref:"child"})],1),t("el-dialog",{attrs:{title:"添加区域信息",visible:e.dialogAddRegVisible},on:{"update:visible":function(t){e.dialogAddRegVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.addRegForm,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"区域编号"}},[t("el-input",{model:{value:e.addRegForm.num,callback:function(t){e.$set(e.addRegForm,"num",t)},expression:"addRegForm.num"}})],1),t("el-form-item",{attrs:{label:"区域名称"}},[t("el-input",{model:{value:e.addRegForm.label,callback:function(t){e.$set(e.addRegForm,"label",t)},expression:"addRegForm.label"}})],1),t("el-form-item",{attrs:{label:"区域GPS"}},[t("el-input",{model:{value:e.addRegForm.GPS,callback:function(t){e.$set(e.addRegForm,"GPS",t)},expression:"addRegForm.GPS"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{model:{value:e.addRegForm.info,callback:function(t){e.$set(e.addRegForm,"info",t)},expression:"addRegForm.info"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addListReg()}}},[e._v("保存")]),t("el-button",{on:{click:function(t){e.dialogAddRegVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},_=[],P=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"map"}})},x=[],N=l(7634),w=l.n(N),M={name:"Map",data(){return{map:null}},methods:{initMap(){w().load({key:"e0182f82d3a2e2470ca386ea85595acc",version:"2.0",plugins:["AMap.Autocomplete","AMap.PlaceSearch","AMap.Scale","AMap.OverView","AMap.ToolBar","AMap.MapType","AMap.PolyEditor","AMap.CircleEditor"]}).then((e=>{this.map=new e.Map("map")})).catch((e=>{console.log(e)}))}},mounted(){this.initMap()}},L=M,T=(0,u.Z)(L,P,x,!1,null,"24a0315d",null),A=T.exports;const $=(0,a.reactive)({data:[{label:"区域01",num:"1",GPS:"22.674574, 113.993353",info:"",children:[{label:"站点 1-1",RegLabel:"区域01",SiteNum:"1-1",SiteGPS:"40.406709, 116.441345",region:"上海市普陀区金沙江路 1516 弄",info:"",children:[{label:"设备 1-1-1",SiteLabel:"站点 1-1",DevNum:"1-1-1",DevIP:"192.168.0.1",MAC:"00-01-6C-06-A6-12",DevType:"",DevBeat:"",info:""},{label:"设备 1-1-2",SiteLabel:"站点 1-1",DevNum:"1-1-2",DevIP:"192.168.0.1",MAC:"00-01-6C-06-A6-12",DevType:"",DevBeat:"",info:""}]},{label:"站点 1-2",RegLabel:"区域01",SiteNum:"1-2",SiteGPS:"40.239378, 115.787659",region:"上海市普陀区金沙江路 1516 弄",info:"",children:[{label:"设备 1-2-1",SiteLabel:"站点 1-2",DevNum:"1-2-1",DevIP:"192.168.0.1",MAC:"00-01-6C-06-A6-12",DevType:"",DevBeat:"",info:""},{label:"设备 1-2-2",SiteLabel:"站点 1-2",DevNum:"1-2-2",DevIP:"192.168.0.1",MAC:"00-01-6C-06-A6-12",DevType:"",DevBeat:"",info:""}]}]},{label:"区域02",num:"2",GPS:"22.674574, 113.993353",info:"",children:[{label:"站点 2-1",RegLabel:"区域02",SiteNum:"2-1",SiteGPS:"40.071632, 115.013123",region:"上海市普陀区金沙江路 1516 弄",info:"",children:[{label:"设备 2-1-1",SiteLabel:"站点 2-1",DevNum:"2-1-1",DevIP:"192.168.0.1",MAC:"00-01-6C-06-A6-12",DevType:"",DevBeat:"",info:""}]}]},{label:"区域03",num:"3",GPS:"22.674574, 113.993353",info:"",children:[{label:"站点 3-1",RegLabel:"区域03",SiteNum:"3-1",SiteGPS:"38.22594, 116.40564",region:"上海市普陀区金沙江路 1516 弄",info:"",children:[{label:"设备 3-1-1",SiteLabel:"站点 3-1",DevNum:"3-1-1",DevIP:"192.168.0.1",MAC:"00-01-6C-06-A6-12",DevType:"",DevBeat:"",info:""}]}]}],VehicleData:[{CarNum:"1-1-1-1",LicensePlate:"粤A·68588",ObuID:"E51DD2BAFF2C07EF7",startTime:"2022年9月1日18:30:54",endTime:"2022年9月1日18:31:19",discernTime:"90",discernSite:"站点01"},{CarNum:"1-1-1-2",LicensePlate:"粤A·68688",ObuID:"E51DD2B629FCBB93CCAFF2C07EF7",startTime:"2022年9月1日18:30:54",endTime:"2022年9月1日18:31:19",discernTime:"90",discernSite:"站点01"},{CarNum:"1-2-1-1",LicensePlate:"粤A·68628",ObuID:"E51DD2B6243CCAFF2C07EF7",startTime:"2022年9月1日18:30:54",endTime:"2022年9月1日18:31:19",discernTime:"90",discernSite:"站点02"},{CarNum:"1-2-1-2",LicensePlate:"粤A·68662",ObuID:"E51DD2B624748B007EF7",startTime:"2022年9月1日18:30:54",endTime:"2022年9月1日18:31:19",discernTime:"90",discernSite:"站点02"}],defaultProps:{children:"children",label:"label"},search:"",TrueAddReg(e){this.data.push(e),console.log(this.data)},addReg(e,t){e=Number(e),this.data[e-1]=t},deleteRegData(e){e=Number(e),this.data.splice(e,1)},addSite(e,t){for(let l=0;l<this.data.length;l++)e==this.data[l].label&&this.data[l].children.push(t)},addDev(e,t){console.log(e,t);for(let l=0;l<this.data.length;l++)for(let a=0;a<this.data[l].children.length;a++)this.data[l].children[a].label==e&&this.data[l].children[a].children.push(t)},addVehicle(e){this.VehicleData.push(e)},deleteVehicle(e){this.VehicleData.splice(e,1)}});var B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"RegManaList"},[t("div",{staticClass:"lsitButton-1"}),t("div",{staticClass:"lsit-lsit"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.RegData,"max-height":"600",border:""}},[t("el-table-column",{attrs:{prop:"num",label:"编号",width:"180"}}),t("el-table-column",{attrs:{prop:"label",label:"名称",width:"180"}}),t("el-table-column",{attrs:{prop:"GPS",label:"GPS"}}),t("el-table-column",{attrs:{prop:"info",label:"备注"}}),t("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.ChangeReg(l.row.num)}}},[e._v("修改区域")]),t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteReg(l.row.num)}}},[e._v("删除区域")])]}}])})],1)],1),t("el-dialog",{attrs:{title:"修改区域信息",visible:e.dialogRegVisible},on:{"update:visible":function(t){e.dialogRegVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.RegForm,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"区域编号"}},[t("el-input",{attrs:{disabled:""},model:{value:e.RegForm.num,callback:function(t){e.$set(e.RegForm,"num",t)},expression:"RegForm.num"}})],1),t("el-form-item",{attrs:{label:"区域名称"}},[t("el-input",{model:{value:e.RegForm.label,callback:function(t){e.$set(e.RegForm,"label",t)},expression:"RegForm.label"}})],1),t("el-form-item",{attrs:{label:"区域GPS"}},[t("el-input",{model:{value:e.RegForm.GPS,callback:function(t){e.$set(e.RegForm,"GPS",t)},expression:"RegForm.GPS"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{model:{value:e.RegForm.info,callback:function(t){e.$set(e.RegForm,"info",t)},expression:"RegForm.info"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.RegBaoCun(e.RegForm.num)}}},[e._v("保存")]),t("el-button",{on:{click:function(t){e.dialogChangeVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},O=[],I={name:"RegManaList",data(){return{store:$,RegForm:{},dialogRegVisible:!1,RegData:[]}},methods:{upRegData(){this.RegData.splice(0);let e=JSON.parse(JSON.stringify(this.store.data));this.RegData=e,console.log(ccc)},ChangeReg(e){this.dialogRegVisible=!0,e=Number(e);let t=JSON.parse(JSON.stringify(this.store.data[e-1]));this.RegForm=t},RegBaoCun(e){this.store.addReg(e,this.RegForm),this.dialogRegVisible=!1,this.upRegData()},deleteReg(e){this.store.deleteRegData(e),this.upRegData()}},created(){this.upRegData()}},G=I,E=(0,u.Z)(G,B,O,!1,null,"02f42490",null),U=E.exports,Z={name:"RegionalMana",components:{Map:A,RegManaList:U},data(){return{store:$,options:[{value:"选项1",label:"区域01"},{value:"选项2",label:"区域02"}],value1:"",ss:!0,pageName:"区域管理",addRegForm:{label:"",num:"",GPS:"",info:"",children:[]},dialogAddRegVisible:!1}},methods:{clickMap(){this.$router.push("/RegMana/Map"),this.ss=!0},clickRegManaList(){this.$router.push("/RegMana/RegManaList"),this.ss=!1},addListReg(){this.store.TrueAddReg(this.addRegForm),this.dialogAddRegVisible=!1,this.$refs.child.upRegData()}}},J=Z,j=(0,u.Z)(J,V,_,!1,null,"fcf4f7e2",null),z=j.exports,H=function(){var e=this,t=e._self._c;return t("div",{staticClass:"SiteBody"},[t("div",{staticClass:"site-item-1"},[t("el-tree",{attrs:{data:e.store.data,props:e.defaultProps},on:{"node-click":e.handleNodeClick}})],1),t("div",{staticClass:"site-item-2"},[t("div",{staticClass:"site-item-2-1"},[t("div",{staticClass:"site-item-2-1-1"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加站点")])],1),t("div",{staticClass:"site-item-2-1-2"},[e._v("当前："+e._s(e.PageName)+" ")])]),t("div",{staticClass:"site-item-2-2"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.SiteData.filter((t=>!e.search||t.label.toLowerCase().includes(e.search.toLowerCase())))}},[t("el-table-column",{attrs:{label:"站点编号",width:"100",prop:"SiteNum"}}),t("el-table-column",{attrs:{label:"站点名称",width:"100"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("div",[e._v(e._s(l.row.label))])]}}])}),t("el-table-column",{attrs:{label:"站点GPS",width:"200"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("div",[e._v(e._s(l.row.SiteGPS))])]}}])}),t("el-table-column",{attrs:{label:"所属区域",width:"200"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("div",[e._v(e._s(l.row.region))])]}}])}),t("el-table-column",{attrs:{label:"备注",width:"200",prop:"info"}}),t("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"header",fn:function(l){return[t("el-input",{attrs:{size:"mini",placeholder:"输入站点名字搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.editData(l.row.label,l.row.RegLabel)}}},[e._v("修改")]),e._v("    "),t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteSite(l.row.SiteNum)}}},[e._v("删除")])]}}])})],1)],1)]),t("el-dialog",{attrs:{title:"添加站点",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"绑定区域"}},[t("el-input",{model:{value:e.form.RegLabel,callback:function(t){e.$set(e.form,"RegLabel",t)},expression:"form.RegLabel"}})],1),t("el-form-item",{attrs:{label:"站点名称"}},[t("el-input",{model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}})],1),t("el-form-item",{attrs:{label:"站点GPS"}},[t("el-input",{model:{value:e.form.SiteGPS,callback:function(t){e.$set(e.form,"SiteGPS",t)},expression:"form.SiteGPS"}})],1),t("el-form-item",{attrs:{label:"设备编号"}},[t("el-input",{model:{value:e.form.SiteNum,callback:function(t){e.$set(e.form,"SiteNum",t)},expression:"form.SiteNum"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.form.info,callback:function(t){e.$set(e.form,"info",t)},expression:"form.info"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(e.form.RegLabel)}}},[e._v("立即创建")]),t("el-button",[e._v("取消")])],1)],1)],1),t("el-dialog",{attrs:{title:"修改站点信息",visible:e.dialogChangeVisible},on:{"update:visible":function(t){e.dialogChangeVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.SiteForm,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"站点编号"}},[t("el-input",{attrs:{disabled:""},model:{value:e.SiteForm.SiteNum,callback:function(t){e.$set(e.SiteForm,"SiteNum",t)},expression:"SiteForm.SiteNum"}})],1),t("el-form-item",{attrs:{label:"站点名称"}},[t("el-input",{model:{value:e.SiteForm.label,callback:function(t){e.$set(e.SiteForm,"label",t)},expression:"SiteForm.label"}})],1),t("el-form-item",{attrs:{label:"站点GPS"}},[t("el-input",{model:{value:e.SiteForm.SiteGPS,callback:function(t){e.$set(e.SiteForm,"SiteGPS",t)},expression:"SiteForm.SiteGPS"}})],1),t("el-form-item",{attrs:{label:"所属区域"}},[t("el-input",{attrs:{disabled:""},model:{value:e.SiteForm.region,callback:function(t){e.$set(e.SiteForm,"region",t)},expression:"SiteForm.region"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.SiteForm.info,callback:function(t){e.$set(e.SiteForm,"info",t)},expression:"SiteForm.info"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.BaoCun(e.SiteForm.SiteNum)}}},[e._v("保存")]),t("el-button",{on:{click:function(t){e.dialogChangeVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},q=[],K={name:"SiteMana",data(){return{store:$,PageName:"站点管理",dialogFormVisible:!1,dialogChangeVisible:!1,SiteForm:{},SiteData:[],search:"",defaultProps:{children:"children",label:"label"},form:{label:"",RegLabel:"",SiteNum:"",SiteGPS:"",region:"",info:"",children:[]}}},methods:{UpData(){this.SiteData.splice(0);const e=this.store.data;let t=0;for(let l=0;l<e.length;l++)for(let a=0;a<e[l].children.length;a++)this.SiteData[t]=e[l].children[a],t++},onSubmit(e){console.log(e),this.store.addSite(e,this.form),this.UpData(),this.dialogFormVisible=!1},editData(e,t){this.dialogChangeVisible=!0;for(let l=0;l<this.store.data.length;l++)for(let t=0;t<this.store.data[l].children.length;t++)if(e==this.store.data[l].children[t].label){let e=JSON.parse(JSON.stringify(this.store.data[l].children[t]));this.SiteForm=e}},BaoCun(e){for(let t=0;t<this.store.data.length;t++)for(let l=0;l<this.store.data[t].children.length;l++)e==this.store.data[t].children[l].SiteNum&&(this.store.data[t].children[l]=this.SiteForm);this.UpData(),this.dialogChangeVisible=!1},deleteSite(e){for(let t=0;t<this.store.data.length;t++)for(let l=0;l<this.store.data[t].children.length;l++)e==this.store.data[t].children[l].SiteNum&&this.store.data[t].children.splice(l,1);this.UpData()}},created(){this.UpData()}},Q=K,W=(0,u.Z)(Q,H,q,!1,null,"42365604",null),X=W.exports,Y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"DevBody"},[t("div",{staticClass:"Dev-1"},[t("el-tree",{attrs:{data:e.store.data,props:e.defaultProps},on:{"node-click":e.handleNodeClick}})],1),t("div",{staticClass:"Dev-2"},[t("div",{staticClass:"Dev-2-1"},[t("div",{staticClass:"Dev-2-1-1"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加设备")])],1),t("div",{staticClass:"Dev-2-1-2"},[e._v("当前："+e._s(e.PageName))])]),t("div",{staticClass:"Dev-2-2"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.DevData.filter((t=>!e.search||t.DeviceName.toLowerCase().includes(e.search.toLowerCase())))}},[t("el-table-column",{attrs:{fixed:"",label:"设备编号",width:"100",prop:"DevNum"}}),t("el-table-column",{attrs:{label:"设备名称",width:"100",prop:"label"}}),t("el-table-column",{attrs:{label:"所属站点",width:"100",prop:"SiteLabel"}}),t("el-table-column",{attrs:{label:"IP地址",width:"100",prop:"DevIP"}}),t("el-table-column",{attrs:{label:"MAC地址",width:"160",prop:"MAC"}}),t("el-table-column",{attrs:{label:"设备类型",width:"100",prop:"DevType"}}),t("el-table-column",{attrs:{label:"设备心跳",width:"100",prop:"DevBeat"}}),t("el-table-column",{attrs:{label:"备注",width:"150",prop:"info"}}),t("el-table-column",{attrs:{fixed:"right",width:"150",align:"right"},scopedSlots:e._u([{key:"header",fn:function(l){return[t("el-input",{attrs:{size:"mini",placeholder:"输入设备名称搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(l){return[t("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(t){return e.editDevData(l.row.DevNum)}}},[e._v("修改")]),t("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.deleteDevDate(l.row.DevNum)}}},[e._v("删除")])]}}])})],1)],1)]),t("el-dialog",{attrs:{title:"添加设备",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"绑定站点"}},[t("el-select",{attrs:{placeholder:"请选择站点"},model:{value:e.form.SiteLabel,callback:function(t){e.$set(e.form,"SiteLabel",t)},expression:"form.SiteLabel"}},[t("el-option",{attrs:{label:"站点 1-1",value:"站点 1-1"}}),t("el-option",{attrs:{label:"站点 1-2",value:"站点 1-2"}})],1)],1),t("el-form-item",{attrs:{label:"设备编号"}},[t("el-input",{model:{value:e.form.DevNum,callback:function(t){e.$set(e.form,"DevNum",t)},expression:"form.DevNum"}})],1),t("el-form-item",{attrs:{label:"设备名称"}},[t("el-input",{model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}})],1),t("el-form-item",{attrs:{label:"设备IP"}},[t("el-input",{model:{value:e.form.IP,callback:function(t){e.$set(e.form,"IP",t)},expression:"form.IP"}})],1),t("el-form-item",{attrs:{label:"设备MAC"}},[t("el-input",{model:{value:e.form.MAC,callback:function(t){e.$set(e.form,"MAC",t)},expression:"form.MAC"}})],1),t("el-form-item",{attrs:{label:"设备类型"}},[t("el-input",{model:{value:e.form.DevType,callback:function(t){e.$set(e.form,"DevType",t)},expression:"form.DevType"}})],1),t("el-form-item",{attrs:{label:"设备心跳"}},[t("el-input",{model:{value:e.form.DevBeat,callback:function(t){e.$set(e.form,"DevBeat",t)},expression:"form.DevBeat"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.form.info,callback:function(t){e.$set(e.form,"info",t)},expression:"form.info"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onDevSubmit(e.form.SiteLabel)}}},[e._v("添加")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)],1),t("el-dialog",{attrs:{title:"修改设备信息",visible:e.dialogChangeDevFormVisible},on:{"update:visible":function(t){e.dialogChangeDevFormVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.DevForm,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"设备编号"}},[t("el-input",{attrs:{disabled:""},model:{value:e.DevForm.DevNum,callback:function(t){e.$set(e.DevForm,"DevNum",t)},expression:"DevForm.DevNum"}})],1),t("el-form-item",{attrs:{label:"设备名称"}},[t("el-input",{model:{value:e.DevForm.label,callback:function(t){e.$set(e.DevForm,"label",t)},expression:"DevForm.label"}})],1),t("el-form-item",{attrs:{label:"所属站点"}},[t("el-input",{model:{value:e.DevForm.SiteLabel,callback:function(t){e.$set(e.DevForm,"SiteLabel",t)},expression:"DevForm.SiteLabel"}})],1),t("el-form-item",{attrs:{label:"IP地址"}},[t("el-input",{model:{value:e.DevForm.DevIP,callback:function(t){e.$set(e.DevForm,"DevIP",t)},expression:"DevForm.DevIP"}})],1),t("el-form-item",{attrs:{label:"MAC地址"}},[t("el-input",{model:{value:e.DevForm.MAC,callback:function(t){e.$set(e.DevForm,"MAC",t)},expression:"DevForm.MAC"}})],1),t("el-form-item",{attrs:{label:"设备类型"}},[t("el-input",{model:{value:e.DevForm.DevType,callback:function(t){e.$set(e.DevForm,"DevType",t)},expression:"DevForm.DevType"}})],1),t("el-form-item",{attrs:{label:"设备心跳"}},[t("el-input",{model:{value:e.DevForm.DevBeat,callback:function(t){e.$set(e.DevForm,"DevBeat",t)},expression:"DevForm.DevBeat"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.DevForm.info,callback:function(t){e.$set(e.DevForm,"info",t)},expression:"DevForm.info"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.DevBaoCun(e.DevForm.DevNum)}}},[e._v("保存")]),t("el-button",{on:{click:function(t){e.dialogChangeVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},ee=[],te={name:"DeviceMana",data(){return{store:$,dialogFormVisible:!1,dialogChangeDevFormVisible:!1,DevData:[],defaultProps:{children:"children",label:"label"},PageName:"设备管理",search:"",form:{label:"",SiteLabel:"",DevNum:"",IP:"",MAC:"",DevType:"",DevBeat:"",info:""},DevForm:{}}},methods:{UpDevData(){this.DevData.splice(0);let e=0;for(let t=0;t<this.store.data.length;t++)for(let l=0;l<this.store.data[t].children.length;l++)for(let a=0;a<this.store.data[t].children[l].children.length;a++)this.DevData[e]=this.store.data[t].children[l].children[a],e++},onDevSubmit(e){this.store.addDev(e,this.form),console.log(this.form),this.UpDevData()},editDevData(e,t){this.dialogChangeDevFormVisible=!0,console.log(e),console.log(this.DevForm);for(let l=0;l<this.store.data.length;l++){console.log(e);for(let t=0;t<this.store.data[l].children.length;t++){console.log(2);for(let a=0;a<this.store.data[l].children[t].children.length;a++)if(console.log(3),e==this.store.data[l].children[t].children[a].DevNum){console.log(e);let i=JSON.parse(JSON.stringify(this.store.data[l].children[t].children[a]));this.DevForm=i}}}},DevBaoCun(e){for(let t=0;t<this.store.data.length;t++)for(let l=0;l<this.store.data[t].children.length;l++)for(let a=0;a<this.store.data[t].children[l].children.length;a++)e==this.store.data[t].children[l].children[a].DevNum&&(this.store.data[t].children[l].children[a]=this.DevForm,console.log(this.store.data[t].children[l].children[a]));this.UpDevData(),this.dialogChangeDevFormVisible=!1},deleteDevDate(e){for(let t=0;t<this.store.data.length;t++)for(let l=0;l<this.store.data[t].children.length;l++)for(let a=0;a<this.store.data[t].children[l].children.length;a++)e==this.store.data[t].children[l].children[a].DevNum&&(console.log(111),this.store.data[t].children[l].children.splice(a,1),console.log(this.store.data[t].children[l].children));this.UpDevData(),console.log(this.DevData)}},created(){this.UpDevData()},updated(){}},le=te,ae=(0,u.Z)(le,Y,ee,!1,null,"de70097e",null),ie=ae.exports,oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"CarBody"},[t("div",{staticClass:"Car-1"},[t("div",{staticClass:"Car-1-1"},[e._v("当前："+e._s(e.PageName))])]),t("div",{staticClass:"Car-2"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.store.VehicleData.filter((t=>!e.search||t.LicensePlate.toLowerCase().includes(e.search.toLowerCase())))}},[t("el-table-column",{attrs:{label:"序号",width:"100",prop:"CarNum"}}),t("el-table-column",{attrs:{sortable:"",label:"车牌",width:"100",prop:"LicensePlate"}}),t("el-table-column",{attrs:{sortable:"",label:"OBU ID",width:"200",prop:"ObuID"}}),t("el-table-column",{attrs:{label:"开始时间",width:"170",prop:"startTime"}}),t("el-table-column",{attrs:{label:"结束时间",width:"170",prop:"endTime"}}),t("el-table-column",{attrs:{label:"识别次数",width:"100",prop:"discernTime"}}),t("el-table-column",{attrs:{sortable:"",label:"识别站点",width:"100",prop:"discernSite"}}),t("el-table-column",{attrs:{fixed:"right",width:"160",align:"right"},scopedSlots:e._u([{key:"header",fn:function(l){return[t("el-input",{attrs:{size:"mini",placeholder:"输入车牌号搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(l){return[t("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(t){return e.editVehicleData(l.row.LicensePlate)}}},[e._v("修改")]),t("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.VehicleDelete(l.row.LicensePlate)}}},[e._v("删除")])]}}])})],1)],1),t("el-dialog",{attrs:{title:"提示",visible:e.dialogVehicleVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVehicleVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.VehicleForm,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"车辆编号"}},[t("el-input",{attrs:{disabled:""},model:{value:e.VehicleForm.CarNum,callback:function(t){e.$set(e.VehicleForm,"CarNum",t)},expression:"VehicleForm.CarNum"}})],1),t("el-form-item",{attrs:{label:"车牌号"}},[t("el-input",{attrs:{disabled:""},model:{value:e.VehicleForm.LicensePlate,callback:function(t){e.$set(e.VehicleForm,"LicensePlate",t)},expression:"VehicleForm.LicensePlate"}})],1),t("el-form-item",{attrs:{label:"OBU ID"}},[t("el-input",{model:{value:e.VehicleForm.ObuID,callback:function(t){e.$set(e.VehicleForm,"ObuID",t)},expression:"VehicleForm.ObuID"}})],1),t("el-form-item",{attrs:{label:"开始时间"}},[t("el-input",{model:{value:e.VehicleForm.startTime,callback:function(t){e.$set(e.VehicleForm,"startTime",t)},expression:"VehicleForm.startTime"}})],1),t("el-form-item",{attrs:{label:"结束时间"}},[t("el-input",{model:{value:e.VehicleForm.endTime,callback:function(t){e.$set(e.VehicleForm,"endTime",t)},expression:"VehicleForm.endTime"}})],1),t("el-form-item",{attrs:{label:"识别次数"}},[t("el-input",{model:{value:e.VehicleForm.discernTime,callback:function(t){e.$set(e.VehicleForm,"discernTime",t)},expression:"VehicleForm.discernTime"}})],1),t("el-form-item",{attrs:{label:"识别站点"}},[t("el-input",{model:{value:e.VehicleForm.discernSite,callback:function(t){e.$set(e.VehicleForm,"discernSite",t)},expression:"VehicleForm.discernSite"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.VehicleBaoCun(e.VehicleForm.LicensePlate,e.VehicleForm)}}},[e._v("保存")]),t("el-button",{on:{click:function(t){e.dialogVehicleVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},re=[],ne={name:"CarInfoRecord",data(){return{PageName:"车辆信息记录",dialogVehicleVisible:!1,store:$,VehicleForm:{},search:""}},methods:{editVehicleData(e,t){this.dialogVehicleVisible=!0;for(let l of $.VehicleData)if(e==l.LicensePlate){let e=JSON.parse(JSON.stringify(l));this.VehicleForm=e}},VehicleBaoCun(e,t){for(let l=0;l<this.store.VehicleData.length;l++)this.store.VehicleData[l].LicensePlate==e&&(console.log(e),this.store.VehicleData[l]=t,console.log(t));this.dialogVehicleVisible=!1},VehicleDelete(e){for(let t=0;t<this.store.VehicleData.length;t++)this.store.VehicleData[t].LicensePlate==e&&this.store.deleteVehicle(t)}}},se=ne,ce=(0,u.Z)(se,oe,re,!1,null,"de6ffbbc",null),de=ce.exports;a["default"].use(y.ZP);const me=[{path:"/",component:A},{path:"/RegMana",component:z,children:[{path:"/",component:A},{path:"/RegMana/Map",component:A},{path:"/RegMana/RegManaList",component:U}]},{path:"/SiteMana",component:X},{path:"/DeviceMana",component:ie},{path:"/CarInfoRecord",component:de}],ue=new y.ZP({mode:"hash",base:"",routes:me});var fe=ue;a["default"].use(o()),a["default"].config.productionTip=!1,new a["default"]({router:fe,render:e=>e(k)}).$mount("#app")}},t={};function l(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(t,a,i,o){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],i=e[d][1],o=e[d][2];for(var n=!0,s=0;s<a.length;s++)(!1&o||r>=o)&&Object.keys(l.O).every((function(e){return l.O[e](a[s])}))?a.splice(s--,1):(n=!1,o<r&&(r=o));if(n){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,i,o]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,o,r=a[0],n=a[1],s=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in n)l.o(n,i)&&(l.m[i]=n[i]);if(s)var d=s(l)}for(t&&t(a);c<r.length;c++)o=r[c],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(d)},a=self["webpackChunketc_pf"]=self["webpackChunketc_pf"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(5228)}));a=l.O(a)})();
//# sourceMappingURL=app.a26d7640.js.map